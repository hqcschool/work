<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>登录</title>
    <link rel="stylesheet" href="./sass/登录页面.css" />
    <link
      rel="stylesheet"
      href="../插件/layui-v2.8.8/layui-v2.8.8/layui/css/layui.css" />
    <script src="../插件/layui-v2.8.8/layui-v2.8.8/layui/layui.js"></script>
  </head>
  <style></style>

  <body>
    <div id="box">
      <div class="logo">
        <img src="./image/logo.67745850.png" alt="" width="20" height="20" />
        <span>myAdmin后台管理系统</span>

        <form class="layui-form">
          <div class="demo-login-container">
            <div class="layui-form-item">
              <div class="layui-input-wrap">
                <div class="layui-input-prefix">
                  <i class="layui-icon layui-icon-username"></i>
                </div>
                <input
                  type="text"
                  name="username"
                  value=""
                  lay-verify="required"
                  placeholder="用户名"
                  lay-reqtext="请填写用户名"
                  autocomplete="off"
                  class="layui-input"
                  lay-affix="clear" />
              </div>
            </div>
            <div class="layui-form-item">
              <div class="layui-input-wrap">
                <div class="layui-input-prefix">
                  <i class="layui-icon layui-icon-password"></i>
                </div>
                <input
                  type="password"
                  name="password"
                  value=""
                  lay-verify="required"
                  placeholder="密   码"
                  lay-reqtext="请填写密码"
                  autocomplete="off"
                  class="layui-input"
                  lay-affix="eye" />
              </div>
            </div>
            <div class="layui-form-item">
              <div class="layui-row">
                <div class="layui-col-xs7">
                  <div class="layui-input-wrap">
                    <div class="layui-input-prefix">
                      <i class="layui-icon layui-icon-vercode"></i>
                    </div>
                    <input
                      type="text"
                      name="captcha"
                      value=""
                      lay-verify="required"
                      placeholder="验证码"
                      lay-reqtext="请填写验证码"
                      autocomplete="off"
                      class="layui-input"
                      lay-affix="clear" />
                  </div>
                </div>
                <div class="layui-col-xs5">
                  <div style="margin-left: 10px">
                    <img
                      src="https://www.oschina.net/action/user/captcha"
                      onclick="this.src='https://www.oschina.net/action/user/captcha?t='+ new Date().getTime();" />
                  </div>
                </div>
              </div>
            </div>
            <div class="layui-form-item">
              <input
                type="checkbox"
                name="remember"
                lay-skin="primary"
                title="记住密码" />
              <a href="form.html#forget" style="float: right; margin-top: 7px"
                >忘记密码？</a
              >
            </div>
            <div class="layui-form-item">
              <button
                class="layui-btn layui-btn-fluid"
                lay-submit
                lay-filter="demo-login">
                登录
              </button>
            </div>
            <!-- <div class="layui-form-item demo-login-other">
                        <label>社交账号登录</label>
                        <span style="padding: 0 21px 0 6px;">
                            <a href="javascript:;"><i class="layui-icon layui-icon-login-qq"
                                    style="color: #3492ed;"></i></a>
                            <a href="javascript:;"><i class="layui-icon layui-icon-login-wechat"
                                    style="color: #4daf29;"></i></a>
                            <a href="javascript:;"><i class="layui-icon layui-icon-login-weibo"
                                    style="color: #cf1900;"></i></a>
                        </span>
                        或 <a href="form.html#reg">注册帐号</a></span>
                    </div> -->
          </div>
        </form>
      </div>
    </div>
    <div id="loading">
      <div id="loading_bg">
        <div class="loader">Loading...</div>
      </div>
    </div>
  </body>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.4/jquery.js"></script>
  <script>
    layui.use(function () {
      var form = layui.form;
      var layer = layui.layer;
      // 提交事件
      form.on("submit(demo-login)", function (data) {
        event.preventDefault();
        // var field = data.field; // 获取表单字段值
        let username = $("input[name=username]").val();
        console.log(username);
        let password = $("input[name=password]").val();

        console.log(password);
        if (username == "admin" && password == "123456") {
          layer.alert(JSON.stringify("登录成功"), {
            title: "Welcome to login",
          });
          location.href = "./主页.html";
        } else {
          layer.alert(JSON.stringify("账户、密码验证码不正确"), {
            title: "请重新输入",
          });
        }
        // 显示填写结果，仅作演示用
        // layer.alert(JSON.stringify(field), {
        //   title: "当前填写的字段值",
        // });
        // 此处可执行 Ajax 等操作
        // …
        return false; // 阻止默认 form 跳转
      });
    });
  </script>
  <script>
    document.onreadystatechange = function () {
      if (document.readyState == "complete") {
        loadingFade();
      }
    };
    function loadingFade() {
      var opacity = 1;
      //var loadingPage=document.getElementById('loading');
      var loadingBackground = document.getElementById("loading_bg");
      var time = setInterval(function () {
        if (opacity <= 0) {
          clearInterval(time);
          //loadingPage.remove();
          $("#loading").remove();
        }

        loadingBackground.style.opacity = opacity;
        opacity -= 0.4;
      }, 1000);
    }
  </script>
</html>
