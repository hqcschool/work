<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.4/gsap.min.js"></script>
<script src="https://unpkg.com/splitting/dist/splitting.min.js"></script>
<style>
    html {
        position: relative;
        overflow-x: hidden !important;
    }

    body {
        font-family: 'Roboto', sans-serif;
        font-size: 16px;
        background: #f2f7fd;
    }

    a,
    a:hover {
        text-decoration: none;
    }

    * {
        box-sizing: border-box;
    }

    .wrapper {
        display: flex;
        align-items: center;
        min-height: 100vh;
        background-image: linear-gradient(-225deg, #231557 0%, #44107A 29%, #FF1361 67%, #fa9b48 100%);
    }

    .scroll-list {
        width: 100%;
        max-width: 700px;
        padding: 25px;
        margin-top: 50px;
        margin-left: auto;
        margin-right: auto;
    }

    @media screen and (max-width: 768px) {
        .scroll-list {
            margin-top: 20px;
        }
    }

    .scroll-list__wrp {
        width: 100%;
        height: 700px;
        overflow: auto;
        padding: 50px;
        box-shadow: 0px 7px 46px 0px rgba(41, 53, 108, 0.45);
        background: #4b1079;
        background: #4b1079;
        margin-bottom: 15px;
        border-radius: 8px;
        background-image: linear-gradient(147deg, #6e0777 0%, #380c70 74%);
    }

    .scroll-list__wrp .scrollbar-track {
        display: none !important;
    }

    @media screen and (max-width: 768px) {
        .scroll-list__wrp {
            padding: 25px;
        }
    }

    .scroll-list__item {
        width: 100%;
        height: 155px;
        display: block;
        margin-bottom: 15px;
        border-radius: 8px;
        background-image: linear-gradient(147deg, #ff7c34 0%, #c31269 74%);
        transition: all .35s ease-in-out;
        opacity: 0;
        transform: scale(0.7);
        box-shadow: 0px 7px 16px 0px rgba(41, 53, 108, 0.25);
    }

    .scroll-list__item.item-hide {
        opacity: 0;
        transform: scale(0.7);
    }

    .scroll-list__item.item-focus {
        opacity: 1;
        transform: scale(1);
    }

    .scroll-list__item.item-next {
        opacity: 1;
        transform: scale(1);
    }

    .scroll-list__item.item-next+.scroll-list__item {
        opacity: 1;
        transform: scale(1);
    }

    .scroll-list__item:last-child {
        margin-bottom: 155px;
    }

    a {
        font-family: 'Roboto Mono', monospace;
        font-size: 30px;
    }

    p {
        text-align: center;
        line-height: 155px;
    }

    .char {
        font-variation-settings: 'wght' var(--weight, 100);
        color: hsl(var(--hue), calc(var(--saturation) * 1%), 65%);
    }
</style>

<body>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scrollbar/8.3.1/smooth-scrollbar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scrollbar/8.3.1/plugins/overscroll.js"></script>
    <div class="wrapper">
        <div class="scroll-list">
            <div class="scroll-list__wrp js-scroll-content js-scroll-list">
                <div class="scroll-list__item js-scroll-list-item">
                    <p><a href="./cc.html" data-splitting="chars">八卦</a></p>
                </div>
                <div class="scroll-list__item js-scroll-list-item">
                    <p><a href="./canvas.html" data-splitting="chars">五角</a></p>
                </div>
                <div class="scroll-list__item js-scroll-list-item">
                    <p><a href="./五星红旗.html" data-splitting="chars">红旗</a></p>
                </div>
                <div class="scroll-list__item js-scroll-list-item">
                    <p><a href="./八卦.html" data-splitting="chars">八卦</a></p>
                </div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
                <div class="scroll-list__item js-scroll-list-item"></div>
            </div>
        </div>
    </div>


</body>
<script src="../../common/jquery-3.7.0.min.js"></script>
<script>

    Splitting()
    gsap.set('.char', {
        '--hue': gsap.utils.distribute({
            base: 0,
            amount: 330,
        })
    })
    gsap.to('.char', {
        '--weight': 700,
        '--saturation': 80,
        ease: 'sine.inOut',
        duration: 0.5,
        stagger: {
            yoyo: true,
            repeat: -1,
            each: 0.15,
        }
    }).time(2)

    $(document).ready(function () {
        var Scrollbar = window.Scrollbar;

        Scrollbar.use(window.OverscrollPlugin);

        var customScroll = Scrollbar.init(document.querySelector('.js-scroll-list'), {
            plugins: {
                overscroll: true
            }
        });

        var listItem = $('.js-scroll-list-item');

        listItem.eq(0).addClass('item-focus');
        listItem.eq(1).addClass('item-next');

        customScroll.addListener(function (status) {

            var $content = $('.js-scroll-content');

            var viewportScrollDistance = 0;


            viewportScrollDistance = status.offset.y;
            var viewportHeight = $content.height();
            var listHeight = 0;
            var $listItems = $content.find('.js-scroll-list-item');
            for (var i = 0; i < $listItems.length; i++) {
                listHeight += $($listItems[i]).height();
            }

            var top = status.offset.y;
            // console.log(top);
            var visibleCenterVertical = 0;
            visibleCenterVertical = top;

            var parentTop = 1;
            var $lis = $('.js-scroll-list-item');
            var $focusLi;
            for (var i = 0; i < $lis.length; i++) {
                var $li = $($lis[i]);
                var liTop = $li.position().top;
                var liRelTop = liTop - parentTop;

                var distance = 0;
                var distance = Math.abs(top - liRelTop);
                var maxDistance = $('.js-scroll-content').height() / 2;
                var distancePercent = distance / (maxDistance / 100);


                if (liRelTop + $li.parent().scrollTop() > top) {
                    if (!$li.hasClass('item-focus')) {
                        $li.prev().addClass('item-hide');
                        $lis.removeClass('item-focus');
                        $lis.removeClass('item-next');
                    }
                    $li.removeClass('item-hide');
                    $li.addClass('item-focus');
                    $li.next().addClass('item-next');
                    break;
                }
            }
        });

    });
</script>

</html>