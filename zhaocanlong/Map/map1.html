<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>map作业3</title>
  <style>
    html,
    body,
    #container {
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body>
  <div class="wrap" id="container"></div>

  <script type="text/javascript">
    window._AMapSecurityConfig = {
      securityJsCode: "7a3e56a85128151148fe6b01a4d7f466",
    }
  </script>
  <script src="https://webapi.amap.com/maps?v=2.0&key=fece8266c6cab577fe6e89652a765421&plugin=AMap.Driving"></script>
  <script type="text/javascript">
    window.onload = function () {
      hebeifun()
      tianjinfun()
      beijingfun()
    }
    // 地图显示
    const map = new AMap.Map('container', {
      viewMode: '2D',  // 默认使用 2D 模式
      zoom: 5.5,  //初始化地图层级
      center: [116.40378, 39.91514]  //初始化地图中心点
    });
    const layer = new AMap.createDefaultLayer({ // 提示：参数值并不是API默认使用的值
      zooms: [3, 20],    //可见级别
      visible: true,    //是否可见
      opacity: 1,       //透明度
      zIndex: 0         //叠加层级
    })
    const traffic = new AMap.TileLayer.Traffic({
      'autoRefresh': true,     //是否自动刷新，默认为false
      'interval': 180,         //刷新间隔，默认180s
    });

    function hebeifun() {
      //显示圈定区域 
      const pathArr = [
        [
          [
            [119.85640, 40.01161],
            [119.54784, 40.54843],
            [119.17305, 40.67952],
            [118.87057, 40.85401],
            [119.22768, 41.30769],
            [118.40778, 41.33427],
            [118.14978, 41.74845],
            [118.31288, 41.78805],
            [118.24676, 42.08763],
            [117.80062, 42.60116],
            [116.91107, 42.40545],
            [116.69507, 41.95956],
            [116.04354, 41.79153],
            [115.90665, 41.95634],
            [115.32204, 41.70247],
            [115.37053, 41.61652],
            [114.89887, 41.61321],
            [114.81952, 42.15018],
            [114.50655, 42.10424],
            [114.23591, 41.52711],
            [113.90972, 41.45751],
            [113.99788, 41.19166],
            [113.84356, 41.10499],
            [114.19605, 40.66011],
            [114.39882, 40.36061],
            [114.54429, 40.34038],
            [114.04618, 40.19179],
            [114.09026, 40.08353],
            [113.93157, 40.00560],
            [114.38710, 39.85959],
            [114.55590, 39.57284],
            [114.31711, 39.07545],
            [114.02948, 39.13465],
            [113.80055, 38.89482],
            [113.54666, 38.38651],
            [114.05048, 37.74209],
            [113.74982, 36.89353],
            [113.49181, 36.67731],
            [113.57867, 36.47792],
            [114.87486, 36.13179],
            [114.94835, 36.08300],
            [115.48286, 36.15889],
            [115.31886, 36.55409],
            [116.14967, 37.36605],
            [117.05450, 37.86338],
            [117.82840, 38.21937]
          ]
        ],
      ];
      const polygon = new AMap.Polygon({
        path: pathArr,
        fillColor: '#ccebc5', // 多边形填充颜色
        strokeOpacity: 1, // 线条透明度
        fillOpacity: 0.5, //填充透明度
        strokeColor: '#2b8cbe', // 线条颜色
        strokeWeight: 1, //线条宽度
        strokeStyle: 'dashed', // 线样式
        strokeDasharray: [5, 5], //轮廓的虚线和间隙的样式
      });

      polygon.on('mouseover', () => { // 鼠标移入更改样式
        polygon.setOptions({
          fillOpacity: 0.7,
          fillColor: '#7bccc4'
        })
      })
      polygon.on('mouseout', () => { // 鼠标移出恢复样式
        polygon.setOptions({
          fillOpacity: 0.5,
          fillColor: '#ccebc5'

        })
      })
      map.add(polygon)
    }
    function tianjinfun() {
      const pathArr = [
        [
          [
            [118.06210, 39.23609],
            [117.93779, 39.32994],
            [117.85511, 39.34482],
            [117.94181, 39.57915],
            [117.75201, 39.59728],
            [117.72389, 39.53924],
            [117.63718, 39.60634],
            [117.66553, 39.67163],
            [117.56008, 39.77116],
            [117.52041, 39.94817],
            [117.55790, 39.99325],
            [117.78052, 39.97342],
            [117.79458, 40.02028],
            [117.75005, 40.03109],
            [117.76880, 40.07611],
            [117.65866, 40.10670],
            [117.56962, 40.22895],
            [117.41965, 40.25230],
            [117.22984, 40.10131],
            [117.15017, 39.91570],
            [117.24156, 39.85973],
            [117.16954, 39.81625],
            [117.20469, 39.76744],
            [117.16174, 39.64066],
            [116.96487, 39.65079],
            [116.92269, 39.70693],
            [116.80084, 39.60368],
            [116.80787, 39.47122],
            [116.87582, 39.42943],
            [116.83833, 39.34760],
            [116.86411, 39.17089],
            [116.92972, 39.11432],
            [116.77506, 39.05222],
            [116.72351, 38.88208],
            [116.77264, 38.75555],
            [116.87677, 38.74260],
            [116.89552, 38.69303],
            [117.04549, 38.69487],
            [117.12048, 38.60850],
            [117.26342, 38.61218],
            [117.26342, 38.56068],
            [117.58680, 38.61586]
          ]
        ],
      ];
      const polygon = new AMap.Polygon({
        path: pathArr,
        fillColor: 'pink', // 多边形填充颜色
        strokeOpacity: 1, // 线条透明度
        fillOpacity: 0.5, //填充透明度
        strokeColor: '', // 线条颜色
        strokeWeight: 1, //线条宽度
        strokeStyle: 'dashed', // 线样式
        strokeDasharray: [5, 5], //轮廓的虚线和间隙的样式
      });

      polygon.on('mouseover', () => { // 鼠标移入更改样式
        polygon.setOptions({
          fillOpacity: 0.7,
          fillColor: 'blue'
        })
      })
      polygon.on('mouseout', () => { // 鼠标移出恢复样式
        polygon.setOptions({
          fillOpacity: 0.5,
          fillColor: 'aqua'
        })
      })
      map.add(polygon)
    }
    function beijingfun() {
      const pathArr = [
        [
          [
            [116.64137, 41.06844],
            [116.59740, 40.98518],
            [116.46273, 40.97477],
            [116.46649, 40.90806],
            [116.37855, 40.94141],
            [116.32633, 40.92265],
            [116.46649, 40.78074],
            [116.25762, 40.78074],
            [116.02086, 40.60293],
            [115.83928, 40.59115],
            [115.74566, 40.51555],
            [115.92429, 40.35805],
            [115.96827, 40.25684],
            [115.84185, 40.15148],
            [115.76215, 40.17256],
            [115.43500, 39.96592],
            [115.55870, 39.81977],
            [115.44602, 39.77949],
            [115.52846, 39.61176],
            [115.70710, 39.59263],
            [115.82253, 39.52668],
            [116.02315, 39.59050],
            [116.24026, 39.57774],
            [116.37217, 39.45002],
            [116.46562, 39.45002],
            [116.39691, 39.53094],
            [116.61677, 39.62877],
            [116.75693, 39.62239],
            [116.91368, 39.70109],
            [116.95215, 39.79022],
            [116.79001, 39.92578],
            [116.79001, 40.04417],
            [117.20224, 40.08218],
            [117.40836, 40.22574],
            [117.24621, 40.40456],
            [117.23247, 40.50324],
            [117.37538, 40.57243],
            [117.43859, 40.58082],
            [117.44684, 40.64156],
            [117.51829, 40.66877],
            [117.06483, 40.71061],
            [116.64137, 41.06844]
          ]
        ],
      ];
      const polygon = new AMap.Polygon({
        path: pathArr,
        fillColor: 'aqua', // 多边形填充颜色
        strokeOpacity: 1, // 线条透明度
        fillOpacity: 0.5, //填充透明度
        strokeColor: '', // 线条颜色
        strokeWeight: 1, //线条宽度
        strokeStyle: 'dashed', // 线样式
        strokeDasharray: [5, 5], //轮廓的虚线和间隙的样式
      });

      polygon.on('mouseover', () => { // 鼠标移入更改样式
        polygon.setOptions({
          fillOpacity: 0.7,
          fillColor: 'gray'
        })
      })
      polygon.on('mouseout', () => { // 鼠标移出恢复样式
        polygon.setOptions({
          fillOpacity: 0.5,
          fillColor: 'pink'
        })
      })
      map.add(polygon)
    }


  </script>
  <!-- Code injected by live-server -->
  <script>
    // <![CDATA[  <-- For SVG support
    if ('WebSocket' in window) {
      (function () {
        function refreshCSS() {
          var sheets = [].slice.call(document.getElementsByTagName("link"));
          var head = document.getElementsByTagName("head")[0];
          for (var i = 0; i < sheets.length; ++i) {
            var elem = sheets[i];
            var parent = elem.parentElement || head;
            parent.removeChild(elem);
            var rel = elem.rel;
            if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
              var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
              elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
            }
            parent.appendChild(elem);
          }
        }
        var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
        var address = protocol + window.location.host + window.location.pathname + '/ws';
        var socket = new WebSocket(address);
        socket.onmessage = function (msg) {
          if (msg.data == 'reload') window.location.reload();
          else if (msg.data == 'refreshcss') refreshCSS();
        };
        if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
          console.log('Live reload enabled.');
          sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
        }
      })();
    }
    else {
      console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
    }
	// ]]>
  </script>
</body>

</html>